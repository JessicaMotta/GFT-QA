

### ðŸ’ Testes UnitÃ¡rios Com JUnit

#### **Por que escrever testes unitÃ¡rios?**

O que Ã© testes unitÃ¡rios?

- TambÃ©m chamado de testes de unidade
- Testar a menor unidade de cÃ³digo possÃ­vel
- Unidade: funÃ§Ã£o, mÃ©todo, classes
- Testar uma aplicaÃ§Ã£o na sua menor parte(testando micro componentes de uma feature)
- Geralmente escrito em tempo de desenvolvimento

**Por quÃª escrever testes unitÃ¡rios ?**

SituaÃ§Ãµes no desenvolvimento de software que mostram a importÃ¢ncia de testes unitÃ¡rios

- Compreender o cÃ³digo fonte
- Corrigir bugs com seguranÃ§a
- Refatorar cÃ³digo sem introduzir bugs. Refatorar = melhorar

- Entregar com seguranÃ§a uma nova feature

**Por quÃª escrever testes unitÃ¡rios ?**

Podemos ainda falar sobre:

- PirÃ¢mide de Testes
- Testes unitÃ¡rios como mÃ©trica de Qualidade (confiabilidade)
- Cobertura de Testes
- AutomaÃ§Ã£o na execuÃ§Ã£o de testes
- Cultura de agilidade

### **Hello world, JUnit!**

**Um pouco de histÃ³ria**

Framework open source para criaÃ§Ã£o de testes unitÃ¡rios criado por Erich Gamma e Kent BeckKent Beck (TDD)

Erich Gamma (Gang of Four, Design Patterns)



https://mvnrepository.com/****

No pom adicoar o maven 

No bild.gradle adiconar o gradle

> adicionar: 
>
> test{
>
> UseJUnitPlataform()
>
> }

**ReferÃªncias**

https://junit.org/junit5/

https://github.com/junit-team/junit5/

https://www.baeldung.com/junit-5-gradle

https://maven.apache.org/surefire/maven-surefire-plugin/examples/junit-platform.html



### ðŸ’ **Aprofundando nos recursos**

#### **O bÃ¡sico para testar**

O codigo de teste nunca Ã© escrito na arevore "main" e sim na de "test"

**Estrutura**

![image-20230108175113280](C:\Users\JÃ©ssica\AppData\Roaming\Typora\typora-user-images\image-20230108175113280.png)



assertTrue = condiÃ§Ã£o verdadeira

assertFalse = condiÃ§Ã£o falsa



**ReferÃªncias**

- https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assertions.html
- https://www.tutorialspoint.com/junit/junit_using_assertion.htm



**After e Before**

**ReferÃªncias**:

https://www.baeldung.com/junit-before-beforeclass-beforeeach-beforeall



**Assumptions e Testes condicionais**

**ReferÃªncias**

- https://junit.org/junit5/docs/current/user-guide/#writing-tests-conditional-execution
- https://mkyong.com/junit5/junit-5-assumptions-examples/
- https://www.baeldung.com/junit-5#2-assumptions
- https://junit.org/junit5/docs/current/api/org.junit.jupiter.api/org/junit/jupiter/api/Assumptions.html

**Ordenando testes**

- https://junit.org/junit5/docs/current/user-guide/#writing-tests-test-execution-order

**Recursos de testes nas IDEs**

**Objetivos**: Conhecer o bÃ¡sico para executar testes unitÃ¡rios nas IDEs mais utilizadas pelo mercado

- **Visual Studio Code**

  > https://code.visualstudio.com/docs/java/java-testing

- **Eclipse**

  > https://wiki.eclipse.org/Eclipse/Testing
  >
  > https://nglauber.medium.com/junit-no-eclipse-ebd134fcf6d4
  >
  > [https://edisciplinas.usp.br/pluginfile.php/5768433/mod_resource/content/0/Utilizando%20JUnit%20no%20Eclipse.pdf](https://edisciplinas.usp.br/pluginfile.php/5768433/mod_resource/content/0/Utilizando JUnit no Eclipse.pdf)

- **IntelliJ IDEA**

  > https://www.jetbrains.com/help/idea/tests-in-ide.html

  

  **Boas prÃ¡ticas**

  **Busque simplicidade**: Preocupe-se com os nomes, Preocupe-se com a facilidade de leitura

  **Comece a testar cedo**: Procure escrever o cÃ³digo de teste o mais prÃ³ximo possÃ­vel do cÃ³digo de execuÃ§Ã£o, Veja um pouco sobre TDD.

  **Busque padronizaÃ§Ã£o**: Nomenclatura

  **Testes precisam ser determinÃ­sticos**

  **Economize tempo automatizando**: Ferramentas de cobertura de cÃ³digo (Jacoco), Automatize a execuÃ§Ã£o dos seus testes	

  >https://www.testim.io/blog/unit-testing-best-practices/
  >
  >https://devporai.com.br/5-dicas-para-escrever-bons-testes-unitarios/
  >
  >[https://jeziellago.medium.com/testes-boas-pr%C3%A1ticas-e-patterns-6bfe0925040](https://jeziellago.medium.com/testes-boas-prÃ¡ticas-e-patterns-6bfe0925040)

  - Pesquisar sobre automatizar testes 

### **Afinal, o que sÃ£o Mocks ?**

Mockito Ã© um framework de teste de cÃ³digo aberto para Java lanÃ§ado sob a licenÃ§a MIT. A estrutura permite a criaÃ§Ã£o de objetos duplos de teste em testes de unidade automatizados para fins de desenvolvimento orientado a testes ou desenvolvimento orientado a comportamento.

Ideal para o teste de sistemas com integraÃ§Ã£o de API 

adicionando o Mockito https://mvnrepository.com/

>https://www.baeldung.com/mockito-annotations
>
>https://site.mockito.org/
>
>https://www.infoq.com/br/articles/mocks-Arent-Stubs/

**Espiando objetos**

Observar o comportamento de um objeto 

> https://www.baeldung.com/mockito-spy
>
> https://stackoverflow.com/questions/28295625/mockito-spy-vs-mock

**Capturando argumentos**

> https://www.baeldung.com/mockito-argumentcaptor

**Manipulando retornos**

> https://www.baeldung.com/mockito-argument-matchers
>
> https://www.baeldung.com/mockito-exceptions
>
> https://www.baeldung.com/mockito-behavior

**Mockando mÃ©todos estÃ¡ticos**

> https://www.baeldung.com/mockito-mock-static-methods

